#!/usr/bin/env python

from __future__ import print_function, division

import argparse 
import desitarget.mock 




parser = argparse.ArgumentParser(description="Create mock target file from dark matter only mocks")
parser.add_argument("--output_dir", "-O", help="Path to write the outputs (targets,truth)", type=str, default="./")
parser.add_argument("--mock_qso_file", "-Q", help="Mock lightcone QSO file", type=str, required=True)
parser.add_argument("--mock_elg_file","-E", help="Mock lightcone ELG file", type=str, required=True)
parser.add_argument("--mock_lrg_file","-L", help="Mock lightcone LRG file", type=str, required=True)
parser.add_argument("--mock_random_file","-R", help="Mock lightcone random file", type=str, required=True)
parser.add_argument("--qsoI_dens","-q1",help="QSOI (Lya) number density (n per deg^2). Default 120.", type=float, default=120.0)
parser.add_argument("--qsoII_dens","-q2",help="QSOII (tracer) number density (n per deg^2). Default 50.", type=float, default=50.0)
parser.add_argument("--qso_fake_dens","-qf",help="Fake QSO number density (n per deg^2). Default 90.", type=float, default=90.0)
parser.add_argument("--lrg_dens","-l",help="LRG number density (n per deg^2). Default 300.", type=float, default=300.0)
parser.add_argument("--lrg_fake_dens","-lf",help="Fake LRG number density (n per deg^2). Default 50.", type=float, default=50.0)
parser.add_argument("--elg_dens","-e",help="ELG number density (n per deg^2). Default 2400.", type=float, default=2400.0)
parser.add_argument("--verbose", "-v", action='store_true')
args = parser.parse_args()

_ = desitarget.mock.build_mock(output_dir=args.output_dir,\
                                   qso_file=args.mock_qso_file,\
                                   elg_file=args.mock_elg_file,\
                                   lrg_file=args.mock_elg_file,\
                                   random_file=args.mock_random_file,\
                                   qsoI_dens=args.qsoI_dens,\
                                   qsoII_dens=args.qsoII_dens,\
                                   qso_fake_dens=args.qso_fake_dens,\
                                   lrg_dens=args.lrg_dens,\
                                   lrg_fake_dens=args.lrg_fake_dens,\
                                   elg_dens=args.elg_dens)

